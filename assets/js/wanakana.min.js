!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.wanakana={})}(this,function(r){"use strict";function t(r){for(var t=[],n=Object.keys(r),e=0;n.length>e;++e)t.push([n[e],r[n[e]]]);return t}function n(r,t,n){function e(r,t){if(void 0!==r[t])return Object.assign({"":r[""]+t},r[t])}function a(r,t){var n=r.charAt(0);return o(Object.assign({"":n},i[n]),r.slice(1),t,t+1)}function o(r,t,i,u){if(!t)return n||1===Object.keys(r).length?r[""]?[[i,u,r[""]]]:[]:[[i,u,null]];if(1===Object.keys(r).length)return[[i,u,r[""]]].concat(a(t,u));var l=e(r,t.charAt(0));return void 0===l?[[i,u,r[""]]].concat(a(t,u)):o(l,t.slice(1),i,u+1)}var i=t;return a(r,0)}function e(r){var n={},a=!0,o=!1,i=void 0;try{for(var u,l=t(r)[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var v=er(u.value,2),f=v[0],c=v[1];n[f]="string"==typeof c?{"":c}:e(c)}}catch(r){o=!0,i=r}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return n}function a(r,t){var n=r,e=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var l=i.value;void 0===n[l]&&(n[l]={}),n=n[l]}}catch(r){a=!0,o=r}finally{try{!e&&u.return&&u.return()}finally{if(a)throw o}}return n}function o(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},e=!0,a=!1,o=void 0;try{for(var i,u=t(r)[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var l=er(i.value,2),v=l[0],f=l[1],c=n,y=!0,h=!1,d=void 0;try{for(var s,g=v[Symbol.iterator]();!(y=(s=g.next()).done);y=!0){var w=s.value;void 0===c[w]&&(c[w]={}),c=c[w]}}catch(r){h=!0,d=r}finally{try{!y&&g.return&&g.return()}finally{if(h)throw d}}c[""]=f}}catch(r){a=!0,o=r}finally{try{!e&&u.return&&u.return()}finally{if(a)throw o}}return function(){function r(n,e){if(void 0===n||"string"==typeof n)return e;var a=n,o=!0,i=!1,u=void 0;try{for(var l,v=t(e)[Symbol.iterator]();!(o=(l=v.next()).done);o=!0){var f=er(l.value,2),c=f[0],y=f[1];a[c]=r(n[c],y)}}catch(r){i=!0,u=r}finally{try{!o&&v.return&&v.return()}finally{if(i)throw u}}return a}var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(JSON.parse(JSON.stringify(e)),n)}}function i(r){for(var t=[],n=Object.keys(r),e=0;n.length>e;++e)t.push([n[e],r[n[e]]]);return t}function u(){function r(t){var n={},e=!0,a=!1,o=void 0;try{for(var u,l=i(t)[Symbol.iterator]();!(e=(u=l.next()).done);e=!0){var v=er(u.value,2),f=v[0],c=v[1];if(f)n[f]=r(c);else{var y=c.charAt(0);n[f]=y in ur?ur[y]+c:c}}}catch(r){a=!0,o=r}finally{try{!e&&l.return&&l.return()}finally{if(a)throw o}}return n}var t=e({"あ":"a","い":"i","う":"u","え":"e","お":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","さ":"sa","し":"shi","す":"su","せ":"se","そ":"so","た":"ta","ち":"chi","つ":"tsu","て":"te","と":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","や":"ya","ゆ":"yu","よ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","わ":"wa","ゐ":"wi","ゑ":"we","を":"wo","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ざ":"za","じ":"ji","ず":"zu","ぜ":"ze","ぞ":"zo","だ":"da","ぢ":"ji","づ":"zu","で":"de","ど":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","ゔぁ":"va","ゔぃ":"vi","ゔ":"vu","ゔぇ":"ve","ゔぉ":"vo","ん":"n"}),n=function(r){return a(t,r)},o=function(r,t){n(r)[""]=t},u={"。":".","、":",","：":":","・":"/","！":"!","？":"?","〜":"~","ー":"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","　":" "},l=!0,v=!1,f=void 0;try{for(var c,y=i(u)[Symbol.iterator]();!(l=(c=y.next()).done);l=!0){var h=er(c.value,2),d=h[0],s=h[1];n(d)[""]=s}}catch(r){v=!0,f=r}finally{try{!l&&y.return&&y.return()}finally{if(v)throw f}}var g={"ゃ":"ya","ゅ":"yu","ょ":"yo"},w={"ぃ":"yi","ぇ":"ye"},p={"ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o"},m=!0,b=!1,j=void 0;try{for(var k,S=i(g).concat(i(p))[Symbol.iterator]();!(m=(k=S.next()).done);m=!0){var x=er(k.value,2);o(x[0],x[1])}}catch(r){b=!0,j=r}finally{try{!m&&S.return&&S.return()}finally{if(b)throw j}}var O=["き","に","ひ","み","り","ぎ","び","ぴ","ゔ","く","ふ"],z=!0,A=!1,C=void 0;try{for(var E,M=O[Symbol.iterator]();!(z=(E=M.next()).done);z=!0){var N=E.value,q=n(N)[""][0],K=!0,R=!1,J=void 0;try{for(var I,L=i(g)[Symbol.iterator]();!(K=(I=L.next()).done);K=!0){var H=er(I.value,2);o(N+H[0],q+H[1])}}catch(r){R=!0,J=r}finally{try{!K&&L.return&&L.return()}finally{if(R)throw J}}var P=!0,U=!1,T=void 0;try{for(var B,W=i(w)[Symbol.iterator]();!(P=(B=W.next()).done);P=!0){var _=er(B.value,2);o(N+_[0],q+_[1])}}catch(r){U=!0,T=r}finally{try{!P&&W.return&&W.return()}finally{if(U)throw T}}}}catch(r){A=!0,C=r}finally{try{!z&&M.return&&M.return()}finally{if(A)throw C}}var D={"し":"sh","ち":"ch","じ":"j","ぢ":"j"},X=!0,F=!1,G=void 0;try{for(var Q,V=i(D)[Symbol.iterator]();!(X=(Q=V.next()).done);X=!0){var Y=er(Q.value,2),Z=Y[0],$=Y[1],rr=!0,tr=!1,nr=void 0;try{for(var ar,or=i(g)[Symbol.iterator]();!(rr=(ar=or.next()).done);rr=!0){var ir=er(ar.value,2);o(Z+ir[0],$+ir[1][1])}}catch(r){tr=!0,nr=r}finally{try{!rr&&or.return&&or.return()}finally{if(tr)throw nr}}o(Z+"ぃ",$+"yi"),o(Z+"ぇ",$+"e")}}catch(r){F=!0,G=r}finally{try{!X&&V.return&&V.return()}finally{if(F)throw G}}var ur={b:"b",c:"t",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",m:"m",p:"p",q:"q",r:"r",s:"s",t:"t",v:"v",w:"w",x:"x",z:"z"};t["っ"]=r(t);var lr={"っ":"","ゃ":"ya","ゅ":"yu","ょ":"yo","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o"},vr=!0,fr=!1,cr=void 0;try{for(var yr,hr=i(lr)[Symbol.iterator]();!(vr=(yr=hr.next()).done);vr=!0){var dr=er(yr.value,2);o(dr[0],dr[1])}}catch(r){fr=!0,cr=r}finally{try{!vr&&hr.return&&hr.return()}finally{if(fr)throw cr}}var sr=["あ","い","う","え","お","や","ゆ","よ"],gr=!0,wr=!1,pr=void 0;try{for(var mr,br=sr[Symbol.iterator]();!(gr=(mr=br.next()).done);gr=!0){var jr=mr.value;o("ん"+jr,"n'"+n(jr)[""])}}catch(r){wr=!0,pr=r}finally{try{!gr&&br.return&&br.return()}finally{if(wr)throw pr}}return Object.freeze(JSON.parse(JSON.stringify(t)))}function l(){return null===ir&&(ir=u()),ir}function v(r){switch(r.romanization){case or.HEPBURN:return l(r);default:return{}}}function f(r){return"string"!=typeof r||!r.length}function c(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2];if(f(r))return!1;var e=r.charCodeAt(0);return e>=t&&n>=e}function y(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[].concat(ar(r)).map(function(r,t){var n=r.charCodeAt(0),e=c(r,xr,Or),a=c(r,zr,Ar);return e?String.fromCharCode(n-xr+jr):a?String.fromCharCode(n-zr+kr):r}).join("")}function h(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=1>=arguments.length||void 0===arguments[1]||arguments[1];if(f(r))return!1;var n=t?/[bcdfghjklmnpqrstvwxyz]/:/[bcdfghjklmnpqrstvwxz]/;return-1!==r.toLowerCase().charAt(0).search(n)}function d(r){for(var t=[],n=Object.keys(r),e=0;n.length>e;++e)t.push([n[e],r[n[e]]]);return t}function s(){function r(t){var n={},e=!0,a=!1,o=void 0;try{for(var i,u=d(t)[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var l=er(i.value,2),v=l[0],f=l[1];n[v]=v?r(f):"っ"+f}}catch(r){a=!0,o=r}finally{try{!e&&u.return&&u.return()}finally{if(a)throw o}}return n}var t=e({a:"あ",i:"い",u:"う",e:"え",o:"お",k:{a:"か",i:"き",u:"く",e:"け",o:"こ"},s:{a:"さ",i:"し",u:"す",e:"せ",o:"そ"},t:{a:"た",i:"ち",u:"つ",e:"て",o:"と"},n:{a:"な",i:"に",u:"ぬ",e:"ね",o:"の"},h:{a:"は",i:"ひ",u:"ふ",e:"へ",o:"ほ"},m:{a:"ま",i:"み",u:"む",e:"め",o:"も"},y:{a:"や",u:"ゆ",o:"よ"},r:{a:"ら",i:"り",u:"る",e:"れ",o:"ろ"},w:{a:"わ",i:"ゐ",e:"ゑ",o:"を"},g:{a:"が",i:"ぎ",u:"ぐ",e:"げ",o:"ご"},z:{a:"ざ",i:"じ",u:"ず",e:"ぜ",o:"ぞ"},d:{a:"だ",i:"ぢ",u:"づ",e:"で",o:"ど"},b:{a:"ば",i:"び",u:"ぶ",e:"べ",o:"ぼ"},p:{a:"ぱ",i:"ぴ",u:"ぷ",e:"ぺ",o:"ぽ"},v:{a:"ゔぁ",i:"ゔぃ",u:"ゔ",e:"ゔぇ",o:"ゔぉ"}}),n=function(r){return a(t,r)},o={k:"き",s:"し",t:"ち",n:"に",h:"ひ",m:"み",r:"り",g:"ぎ",z:"じ",d:"ぢ",b:"び",p:"ぴ",v:"ゔ",q:"く",f:"ふ"},i={ya:"ゃ",yi:"ぃ",yu:"ゅ",ye:"ぇ",yo:"ょ"},u={a:"ぁ",i:"ぃ",u:"ぅ",e:"ぇ",o:"ぉ"},l=!0,v=!1,f=void 0;try{for(var c,y=d(o)[Symbol.iterator]();!(l=(c=y.next()).done);l=!0){var h=er(c.value,2),s=h[0],g=h[1],w=!0,p=!1,m=void 0;try{for(var b,j=d(i)[Symbol.iterator]();!(w=(b=j.next()).done);w=!0){var k=er(b.value,2),S=k[0],x=k[1];n(s+S)[""]=g+x}}catch(r){p=!0,m=r}finally{try{!w&&j.return&&j.return()}finally{if(p)throw m}}}}catch(r){v=!0,f=r}finally{try{!l&&y.return&&y.return()}finally{if(v)throw f}}var O={".":"。",",":"、",":":"：","/":"・","!":"！","?":"？","~":"〜","-":"ー","‘":"「","’":"」","“":"『","”":"』","[":"［","]":"］","(":"（",")":"）","{":"｛","}":"｝"},z=!0,A=!1,C=void 0;try{for(var E,M=d(O)[Symbol.iterator]();!(z=(E=M.next()).done);z=!0){var N=er(E.value,2),q=N[0],K=N[1];n(q)[""]=K}}catch(r){A=!0,C=r}finally{try{!z&&M.return&&M.return()}finally{if(A)throw C}}var R={wh:"う",qw:"く",q:"く",gw:"ぐ",sw:"す",ts:"つ",th:"て",tw:"と",dh:"で",dw:"ど",fw:"ふ",f:"ふ"},J=!0,I=!1,L=void 0;try{for(var H,P=d(R)[Symbol.iterator]();!(J=(H=P.next()).done);J=!0){var U=er(H.value,2),T=U[0],B=U[1],W=!0,_=!1,D=void 0;try{for(var X,F=d(u)[Symbol.iterator]();!(W=(X=F.next()).done);W=!0){var G=er(X.value,2),Q=G[0],V=G[1];(Qr=n(T+Q))[""]=B+V}}catch(r){_=!0,D=r}finally{try{!W&&F.return&&F.return()}finally{if(_)throw D}}}}catch(r){I=!0,L=r}finally{try{!J&&P.return&&P.return()}finally{if(I)throw L}}for(var Y=["n","n'","xn"],Z=0;3>Z;Z++)n(Y[Z])[""]="ん";var $={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"};t.c=JSON.parse(JSON.stringify(t.k));var rr=!0,tr=!1,nr=void 0;try{for(var ar,or=d($)[Symbol.iterator]();!(rr=(ar=or.next()).done);rr=!0){var ir=er(ar.value,2),ur=ir[0],lr=ir[1],vr=ur.slice(0,ur.length-1),fr=ur.charAt(ur.length-1);n(vr)[fr]=JSON.parse(JSON.stringify(n(lr)))}}catch(r){tr=!0,nr=r}finally{try{!rr&&or.return&&or.return()}finally{if(tr)throw nr}}var cr=Object.assign({tu:"っ",wa:"ゎ",ka:"ヵ",ke:"ヶ"},u,i),yr=!0,hr=!1,dr=void 0;try{for(var sr,gr=d(cr)[Symbol.iterator]();!(yr=(sr=gr.next()).done);yr=!0){var wr=er(sr.value,2),pr=wr[0],mr=wr[1],br=n("x"+pr);br[""]=mr;var jr=pr.slice(0,pr.length-1),kr=pr.charAt(pr.length-1);n("l"+jr)[kr]=br;var Sr=!0,xr=!1,Or=void 0;try{for(var zr,Ar=function(r){var t=[],n=!0,e=!1,a=void 0;try{for(var o,i=d($).concat([["c","k"]])[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=er(o.value,2),l=u[0],v=u[1];r.startsWith(v)&&t.push(r.replace(v,l))}}catch(r){e=!0,a=r}finally{try{!n&&i.return&&i.return()}finally{if(e)throw a}}return t}(pr)[Symbol.iterator]();!(Sr=(zr=Ar.next()).done);Sr=!0)for(var Cr=zr.value,Er=Cr.slice(0,Cr.length-1),Mr=Cr.charAt(Cr.length-1),Nr=["l","x"],qr=0;2>qr;qr++){var Kr=Nr[qr];n(Kr+Er)[Mr]=n(Kr+pr)}}catch(r){xr=!0,Or=r}finally{try{!Sr&&Ar.return&&Ar.return()}finally{if(xr)throw Or}}}}catch(r){hr=!0,dr=r}finally{try{!yr&&gr.return&&gr.return()}finally{if(hr)throw dr}}var Rr={yi:"い",wu:"う",ye:"いぇ",wi:"うぃ",we:"うぇ",kwa:"くぁ",whu:"う",tha:"てゃ",thu:"てゅ",tho:"てょ",dha:"でゃ",dhu:"でゅ",dho:"でょ"},Jr=!0,Ir=!1,Lr=void 0;try{for(var Hr,Pr=d(Rr)[Symbol.iterator]();!(Jr=(Hr=Pr.next()).done);Jr=!0){var Ur=er(Hr.value,2),Tr=Ur[0],Br=Ur[1];n(Tr)[""]=Br}}catch(r){Ir=!0,Lr=r}finally{try{!Jr&&Pr.return&&Pr.return()}finally{if(Ir)throw Lr}}var Wr=!0,_r=!1,Dr=void 0;try{for(var Xr,Fr=Object.keys(o).concat("c","y","w","j")[Symbol.iterator]();!(Wr=(Xr=Fr.next()).done);Wr=!0){var Gr=Xr.value,Qr=t[Gr];Qr[Gr]=r(Qr)}}catch(r){_r=!0,Dr=r}finally{try{!Wr&&Fr.return&&Fr.return()}finally{if(_r)throw Dr}}return delete t.n.n,Object.freeze(JSON.parse(JSON.stringify(t)))}function g(r){return null===Hr&&(Hr=s()),Hr}function w(r){var t=JSON.parse(JSON.stringify(r));return t.n.n={"":"ん"},t.n[" "]={"":"ん"},t}function p(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&c(r,kr,Sr)}function m(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&r.charCodeAt(0)===Rr}function b(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&r.charCodeAt(0)===Jr}function j(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&(!!m(r)||c(r,Cr,Er))}function k(){var r=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("").forEach(function(t){if(m(t)||b(t))r.push(t);else if(j(t)){var n=t.charCodeAt(0)+(Mr-Cr),e=String.fromCharCode(n);r.push(e)}else r.push(t)}),r.join("")}function S(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return x(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).map(function(t){var n=er(t,3),e=n[0],a=n[2];return null===a?r.slice(e):p(r.charAt(e))?k(a):a}).join("")}function x(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({},ur,t),a=g(e);return a=e.IMEMode?w(a):a,a=e.useObsoleteKana?Pr(a):a,a=e.customKanaMapping(a),n(r.toLowerCase(),a,!e.IMEMode)}function O(r){var t=A(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(r instanceof Element&&Ur.includes(r.nodeName)){var n=_r();r.setAttribute("data-wanakana-id",n),r.autocapitalize="none",r.addEventListener("compositionupdate",C),r.addEventListener("input",t),Tr=E(t,n)}else console.warn("Element provided to Wanakana bind() was not a valid input field.")}function z(r){var t=M(r);null!=t?(r.removeAttribute("data-wanakana-id"),r.removeEventListener("compositionupdate",C),r.removeEventListener("input",t.handler),Tr=N(t)):console.warn("Element provided to Wanakana unbind() had no listener registered.")}function A(r){var t=Object.assign({},ur,r);return function(r){var n=r.target;if(Wr)Wr=!1;else{var e=y(n.value),a=q(e,t.IMEMode),o=Object.assign({},t,{IMEMode:!0}),i=x(a,o),u=S(a,o);if(e!==u){var l=n.selectionEnd;if(n.value=u,0===l)n.setSelectionRange(0,0);else{n.setSelectionRange(n.value.length,n.value.length);for(var v=0,f=0;i.length>f;f+=1){var c=er(i[f],3),h=c[1];if(v+=c[2].length,h>=l){n.setSelectionRange(v,v);break}}}}}}}function C(r){var t=r.data||r.detail&&r.detail.data,n=t&&t.slice(-2)||"",e="n"===n[0],a=y(n).split("").every(h);Wr=!e&&a}function E(r,t){return Tr.concat({id:t,handler:r})}function M(r){return r&&Tr.find(function(t){return t.id===r.getAttribute("data-wanakana-id")})}function N(r){var t=r.id;return Tr.filter(function(r){return r.id!==t})}function q(r,t){switch(!0){case"toHiragana"===t:return r.toLowerCase();case"toKatakana"===t:return r.toUpperCase();default:return r}}function K(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&mr.some(function(t){var n=er(t,2);return c(r,n[0],n[1])})}function R(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&[].concat(ar(r)).every(K)}function J(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return pr.some(function(t){var n=er(t,2);return c(r,n[0],n[1])})}function I(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&[].concat(ar(r)).every(J)}function L(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",Mr,Nr)}function H(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&(j(r)||L(r))}function P(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&[].concat(ar(r)).every(H)}function U(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&[].concat(ar(r)).every(j)}function T(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&[].concat(ar(r)).every(L)}function B(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",qr,Kr)}function W(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&[].concat(ar(r)).every(B)}function _(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{passKanji:!0},n=[].concat(ar(r)),e=!1;return t.passKanji||(e=n.some(W)),(n.some(U)||n.some(T))&&n.some(R)&&!e}function D(){for(var r=[],t="",n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(""),e=0;n.length>e;e+=1){var a=n[e];if(b(a)||Dr(a,e)||Fr(a))r.push(a);else if(t&&Xr(a,e)){var o=Lr[t].slice(-1);r.push(Ir[o])}else if(!m(a)&&L(a)){var i=a.charCodeAt(0)+(Cr-Mr),u=String.fromCharCode(i);r.push(u),t=u}else r.push(a),t=""}return r.join("")}function X(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S(r.toLowerCase(),t)}function F(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},ur,t);return n.passRomaji?D(r):R(r)?X(r,n):_(r,{passKanji:!0})?X(D(r),n):D(r)}function G(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},ur,t);return Q(r,n).map(function(n){var e=er(n,3),a=e[0],o=e[1],i=e[2];return t.upcaseKatakana&&T(r.slice(a,o))?i.toUpperCase():i}).join("")}function Q(r,t){var e=v(t);return e=t.customRomajiMapping(e),n(F(r,{passRomaji:!0}),e,!t.IMEMode)}function V(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},ur,t);return k(n.passRomaji?r:R(r)||_(r)?X(r,n):r)}function Y(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&br.some(function(t){var n=er(t,2);return c(r,n[0],n[1])})}function Z(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&gr.some(function(t){var n=er(t,2);return c(r,n[0],n[1])})}function $(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!f(r)&&(Y(r)||Z(r))}function rr(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{all:!1};if(f(r)||!I(r)||P(r))return r;var n=[].concat(ar(r));if(t.all)return n.filter(function(r){return!H(r)}).join("");for(var e=n.reverse(),a=0,o=e.length;o>a;a+=1){var i=e[a];if(!$(i)){if(W(i))break;e[a]=""}}return e.reverse().join("")}function tr(r){switch(!0){case Z(r):return"japanesePunctuation";case B(r):return"kanji";case j(r):return"hiragana";case L(r):return"katakana";default:return"romaji"}}function nr(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(f(r))return[""];var t=[].concat(ar(r)),n=t.shift(),e=tr(n);return t.reduce(function(r,t){var n=tr(t)===e;if(e=tr(t),n){var a=r.pop();return r.concat(a.concat(t))}return r.concat(t)},[n])}var er=function(){function r(r,t){var n=[],e=!0,a=!1,o=void 0;try{for(var i,u=r[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);e=!0);}catch(r){a=!0,o=r}finally{try{!e&&u.return&&u.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ar=function(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);r.length>t;t++)n[t]=r[t];return n}return Array.from(r)},or=Object.freeze({HEPBURN:"hepburn"}),ir=null,ur={useObsoleteKana:!1,passRomaji:!1,upcaseKatakana:!1,ignoreCase:!1,IMEMode:!1,romanization:or.HEPBURN,customKanaMapping:function(r){return r},customRomajiMapping:function(r){return r}},lr=[65296,65305],vr=[65377,65381],fr=[19968,40959],cr=[13312,19903],yr=[48,57],hr=[0,127],dr=[[256,257],[274,275],[298,299],[332,333],[362,363]],sr=[[8216,8217],[8220,8221]],gr=[[12288,12351],vr,[12539,12540],[65281,65295],[65306,65311],[65339,65343],[65371,65376],[65504,65518]],wr=[[12352,12447],[12448,12543],vr,[65382,65439]],pr=[].concat(wr,gr,[yr,lr,fr,cr]),mr=[hr].concat(dr,sr),br=[[33,47],[58,63],[91,96],[123,126]].concat(sr),jr=97,kr=65,Sr=90,xr=65345,Or=65370,zr=65313,Ar=65338,Cr=12353,Er=12438,Mr=12449,Nr=12540,qr=19968,Kr=40879,Rr=12540,Jr=12539,Ir={a:"あ",i:"い",u:"う",e:"え",o:"う"},Lr={"　":" ","！":"!","？":"?","。":".","：":":","・":"/","、":",","〜":"~","ー":"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","あ":"a","い":"i","う":"u","え":"e","お":"o","ゔぁ":"va","ゔぃ":"vi","ゔ":"vu","ゔぇ":"ve","ゔぉ":"vo","か":"ka","き":"ki","きゃ":"kya","きぃ":"kyi","きゅ":"kyu","く":"ku","け":"ke","こ":"ko","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ぎゃ":"gya","ぎぃ":"gyi","ぎゅ":"gyu","ぎぇ":"gye","ぎょ":"gyo","さ":"sa","す":"su","せ":"se","そ":"so","ざ":"za","ず":"zu","ぜ":"ze","ぞ":"zo","し":"shi","しゃ":"sha","しゅ":"shu","しょ":"sho","じ":"ji","じゃ":"ja","じゅ":"ju","じょ":"jo","た":"ta","ち":"chi","ちゃ":"cha","ちゅ":"chu","ちょ":"cho","つ":"tsu","て":"te","と":"to","だ":"da","ぢ":"di","づ":"du","で":"de","ど":"do","な":"na","に":"ni","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ぬ":"nu","ね":"ne","の":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","ふぁ":"fa","ふぃ":"fi","ふぇ":"fe","ふぉ":"fo","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","みゃ":"mya","みゅ":"myu","みょ":"myo","や":"ya","ゆ":"yu","よ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","りゃ":"rya","りゅ":"ryu","りょ":"ryo","わ":"wa","を":"wo","ん":"n","ゐ":"wi","ゑ":"we","きぇ":"kye","きょ":"kyo","じぃ":"jyi","じぇ":"jye","ちぃ":"cyi","ちぇ":"che","ひぃ":"hyi","ひぇ":"hye","びぃ":"byi","びぇ":"bye","ぴぃ":"pyi","ぴぇ":"pye","みぇ":"mye","みぃ":"myi","りぃ":"ryi","りぇ":"rye","にぃ":"nyi","にぇ":"nye","しぃ":"syi","しぇ":"she","いぇ":"ye","うぁ":"wha","うぉ":"who","うぃ":"wi","うぇ":"we","ゔゃ":"vya","ゔゅ":"vyu","ゔょ":"vyo","すぁ":"swa","すぃ":"swi","すぅ":"swu","すぇ":"swe","すぉ":"swo","くゃ":"qya","くゅ":"qyu","くょ":"qyo","くぁ":"qwa","くぃ":"qwi","くぅ":"qwu","くぇ":"qwe","くぉ":"qwo","ぐぁ":"gwa","ぐぃ":"gwi","ぐぅ":"gwu","ぐぇ":"gwe","ぐぉ":"gwo","つぁ":"tsa","つぃ":"tsi","つぇ":"tse","つぉ":"tso","てゃ":"tha","てぃ":"thi","てゅ":"thu","てぇ":"the","てょ":"tho","とぁ":"twa","とぃ":"twi","とぅ":"twu","とぇ":"twe","とぉ":"two","ぢゃ":"dya","ぢぃ":"dyi","ぢゅ":"dyu","ぢぇ":"dye","ぢょ":"dyo","でゃ":"dha","でぃ":"dhi","でゅ":"dhu","でぇ":"dhe","でょ":"dho","どぁ":"dwa","どぃ":"dwi","どぅ":"dwu","どぇ":"dwe","どぉ":"dwo","ふぅ":"fwu","ふゃ":"fya","ふゅ":"fyu","ふょ":"fyo","ぁ":"a","ぃ":"i","ぇ":"e","ぅ":"u","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","っ":"","ゕ":"ka","ゖ":"ka","ゎ":"wa","んあ":"n'a","んい":"n'i","んう":"n'u","んえ":"n'e","んお":"n'o","んや":"n'ya","んゆ":"n'yu","んよ":"n'yo"},Hr=null,Pr=o({wi:"ゐ",we:"ゑ"}),Ur=["TEXTAREA","INPUT"],Tr=[],Br=0,Wr=!1,_r=function(){return Br+=1,""+Date.now()+Br},Dr=function(r,t){return m(r)&&1>t},Xr=function(r,t){return m(r)&&t>0},Fr=function(r){return["ヶ","ヵ"].includes(r)};r.bind=O,r.unbind=z,r.isRomaji=R,r.isJapanese=I,r.isKana=P,r.isHiragana=U,r.isKatakana=T,r.isMixed=_,r.isKanji=W,r.toRomaji=G,r.toKana=S,r.toHiragana=F,r.toKatakana=V,r.stripOkurigana=rr,r.tokenize=nr,r.createCustomMapping=o,r.methods=or,Object.defineProperty(r,"__esModule",{value:!0})});
