!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.wanakana={})}(this,function(r){"use strict";function t(r){return null===r?"null":r!==Object(r)?void 0===r?"undefined":Ir(r):{}.toString.call(r).slice(8,-1).toLowerCase()}function n(r){return"string"!==t(r)||!r.length}function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],e=arguments[2];if(n(r))return!1;var o=r.charCodeAt(0);return o>=t&&e>=o}function o(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Kr.some(function(t){var n=Hr(t,2);return e(r,n[0],n[1])})}function a(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],a="regexp"===t(e);return!n(r)&&[].concat(Ur(r)).every(function(r){var t=o(r);return a?t||e.test(r):t})}function i(r){for(var t=[],n=Object.keys(r),e=0;n.length>e;++e)t.push([n[e],r[n[e]]]);return t}function u(r,t,n){function e(r,t){if(void 0!==r[t])return Object.assign({"":r[""]+t},r[t])}function o(r,t){var n=r.charAt(0);return a(Object.assign({"":n},i[n]),r.slice(1),t,t+1)}function a(r,t,i,u){if(!t)return n||1===Object.keys(r).length?r[""]?[[i,u,r[""]]]:[]:[[i,u,null]];if(1===Object.keys(r).length)return[[i,u,r[""]]].concat(o(t,u));var c=e(r,t.charAt(0));return void 0===c?[[i,u,r[""]]].concat(o(t,u)):a(c,t.slice(1),i,u+1)}var i=t;return o(r,0)}function c(r){var n={},e=!0,o=!1,a=void 0;try{for(var u,l=i(r)[Symbol.iterator]();!(e=(u=l.next()).done);e=!0){var v=Hr(u.value,2),f=v[0],s=v[1];n[f]="string"===t(s)?{"":s}:c(s)}}catch(r){o=!0,a=r}finally{try{!e&&l.return&&l.return()}finally{if(o)throw a}}return n}function l(r,t){var n=r,e=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var c=i.value;void 0===n[c]&&(n[c]={}),n=n[c]}}catch(r){o=!0,a=r}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}function v(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};if("object"===t(r)){var e=!0,o=!1,a=void 0;try{for(var u,c=i(r)[Symbol.iterator]();!(e=(u=c.next()).done);e=!0){var l=Hr(u.value,2),v=l[0],f=l[1],s=n,d=!0,y=!1,h=void 0;try{for(var g,p=v[Symbol.iterator]();!(d=(g=p.next()).done);d=!0){var m=g.value;void 0===s[m]&&(s[m]={}),s=s[m]}}catch(r){y=!0,h=r}finally{try{!d&&p.return&&p.return()}finally{if(y)throw h}}s[""]=f}}catch(r){o=!0,a=r}finally{try{!e&&c.return&&c.return()}finally{if(o)throw a}}}return function(r){function e(r,n){if(void 0===r||"string"===t(r))return n;var o=r,a=!0,u=!1,c=void 0;try{for(var l,v=i(n)[Symbol.iterator]();!(a=(l=v.next()).done);a=!0){var f=Hr(l.value,2),s=f[0],d=f[1];o[s]=e(r[s],d)}}catch(r){u=!0,c=r}finally{try{!a&&v.return&&v.return()}finally{if(u)throw c}}return o}return e(JSON.parse(JSON.stringify(r)),n)}}function f(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"function"===t(n)?n(r):"object"===t(n)?v(n)(r):r}function s(r){for(var t=[],n=Object.keys(r),e=0;n.length>e;++e)t.push([n[e],r[n[e]]]);return t}function d(){function r(t){var n={},e=!0,o=!1,a=void 0;try{for(var i,u=s(t)[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var c=Hr(i.value,2),l=c[0],v=c[1];n[l]=l?r(v):"っ"+v}}catch(r){o=!0,a=r}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}var t=c({a:"あ",i:"い",u:"う",e:"え",o:"お",k:{a:"か",i:"き",u:"く",e:"け",o:"こ"},s:{a:"さ",i:"し",u:"す",e:"せ",o:"そ"},t:{a:"た",i:"ち",u:"つ",e:"て",o:"と"},n:{a:"な",i:"に",u:"ぬ",e:"ね",o:"の"},h:{a:"は",i:"ひ",u:"ふ",e:"へ",o:"ほ"},m:{a:"ま",i:"み",u:"む",e:"め",o:"も"},y:{a:"や",u:"ゆ",o:"よ"},r:{a:"ら",i:"り",u:"る",e:"れ",o:"ろ"},w:{a:"わ",i:"ゐ",e:"ゑ",o:"を"},g:{a:"が",i:"ぎ",u:"ぐ",e:"げ",o:"ご"},z:{a:"ざ",i:"じ",u:"ず",e:"ぜ",o:"ぞ"},d:{a:"だ",i:"ぢ",u:"づ",e:"で",o:"ど"},b:{a:"ば",i:"び",u:"ぶ",e:"べ",o:"ぼ"},p:{a:"ぱ",i:"ぴ",u:"ぷ",e:"ぺ",o:"ぽ"},v:{a:"ゔぁ",i:"ゔぃ",u:"ゔ",e:"ゔぇ",o:"ゔぉ"}}),n=function(r){return l(t,r)},e={k:"き",s:"し",t:"ち",n:"に",h:"ひ",m:"み",r:"り",g:"ぎ",z:"じ",d:"ぢ",b:"び",p:"ぴ",v:"ゔ",q:"く",f:"ふ"},o={ya:"ゃ",yi:"ぃ",yu:"ゅ",ye:"ぇ",yo:"ょ"},a={a:"ぁ",i:"ぃ",u:"ぅ",e:"ぇ",o:"ぉ"},i=!0,u=!1,v=void 0;try{for(var f,d=s(e)[Symbol.iterator]();!(i=(f=d.next()).done);i=!0){var y=Hr(f.value,2),h=y[0],g=y[1],p=!0,m=!1,b=void 0;try{for(var w,A=s(o)[Symbol.iterator]();!(p=(w=A.next()).done);p=!0){var S=Hr(w.value,2),j=S[0],N=S[1];n(h+j)[""]=g+N}}catch(r){m=!0,b=r}finally{try{!p&&A.return&&A.return()}finally{if(m)throw b}}}}catch(r){u=!0,v=r}finally{try{!i&&d.return&&d.return()}finally{if(u)throw v}}var E={".":"。",",":"、",":":"：","/":"・","!":"！","?":"？","~":"〜","-":"ー","‘":"「","’":"」","“":"『","”":"』","[":"［","]":"］","(":"（",")":"）","{":"｛","}":"｝"},x=!0,O=!1,k=void 0;try{for(var C,K=s(E)[Symbol.iterator]();!(x=(C=K.next()).done);x=!0){var M=Hr(C.value,2),J=M[0],R=M[1];n(J)[""]=R}}catch(r){O=!0,k=r}finally{try{!x&&K.return&&K.return()}finally{if(O)throw k}}var z={wh:"う",qw:"く",q:"く",gw:"ぐ",sw:"す",ts:"つ",th:"て",tw:"と",dh:"で",dw:"ど",fw:"ふ",f:"ふ"},I=!0,H=!1,U=void 0;try{for(var L,P=s(z)[Symbol.iterator]();!(I=(L=P.next()).done);I=!0){var T=Hr(L.value,2),_=T[0],q=T[1],G=!0,B=!1,W=void 0;try{for(var D,V=s(a)[Symbol.iterator]();!(G=(D=V.next()).done);G=!0){var X=Hr(D.value,2),Z=X[0],$=X[1];(Zr=n(_+Z))[""]=q+$}}catch(r){B=!0,W=r}finally{try{!G&&V.return&&V.return()}finally{if(B)throw W}}}}catch(r){H=!0,U=r}finally{try{!I&&P.return&&P.return()}finally{if(H)throw U}}for(var F=["n","n'","xn"],Q=0;3>Q;Q++)n(F[Q])[""]="ん";var Y={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"};t.c=JSON.parse(JSON.stringify(t.k));var rr=!0,tr=!1,nr=void 0;try{for(var er,or=s(Y)[Symbol.iterator]();!(rr=(er=or.next()).done);rr=!0){var ar=Hr(er.value,2),ir=ar[0],ur=ar[1],cr=ir.slice(0,ir.length-1),lr=ir.charAt(ir.length-1);n(cr)[lr]=JSON.parse(JSON.stringify(n(ur)))}}catch(r){tr=!0,nr=r}finally{try{!rr&&or.return&&or.return()}finally{if(tr)throw nr}}var vr=Object.assign({tu:"っ",wa:"ゎ",ka:"ヵ",ke:"ヶ"},a,o),fr=!0,sr=!1,dr=void 0;try{for(var yr,hr=s(vr)[Symbol.iterator]();!(fr=(yr=hr.next()).done);fr=!0){var gr=Hr(yr.value,2),pr=gr[0],mr=gr[1],br=n("x"+pr);br[""]=mr;var wr=pr.slice(0,pr.length-1),Ar=pr.charAt(pr.length-1);n("l"+wr)[Ar]=br;var Sr=!0,jr=!1,Nr=void 0;try{for(var Er,xr=function(r){var t=[],n=!0,e=!1,o=void 0;try{for(var a,i=s(Y).concat([["c","k"]])[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=Hr(a.value,2),c=u[0],l=u[1];r.startsWith(l)&&t.push(r.replace(l,c))}}catch(r){e=!0,o=r}finally{try{!n&&i.return&&i.return()}finally{if(e)throw o}}return t}(pr)[Symbol.iterator]();!(Sr=(Er=xr.next()).done);Sr=!0)for(var Or=Er.value,kr=Or.slice(0,Or.length-1),Cr=Or.charAt(Or.length-1),Kr=["l","x"],Mr=0;2>Mr;Mr++){var Jr=Kr[Mr];n(Jr+kr)[Cr]=n(Jr+pr)}}catch(r){jr=!0,Nr=r}finally{try{!Sr&&xr.return&&xr.return()}finally{if(jr)throw Nr}}}}catch(r){sr=!0,dr=r}finally{try{!fr&&hr.return&&hr.return()}finally{if(sr)throw dr}}var Rr={yi:"い",wu:"う",ye:"いぇ",wi:"うぃ",we:"うぇ",kwa:"くぁ",whu:"う",tha:"てゃ",thu:"てゅ",tho:"てょ",dha:"でゃ",dhu:"でゅ",dho:"でょ"},zr=!0,Ir=!1,Ur=void 0;try{for(var Lr,Pr=s(Rr)[Symbol.iterator]();!(zr=(Lr=Pr.next()).done);zr=!0){var Tr=Hr(Lr.value,2),_r=Tr[0],qr=Tr[1];n(_r)[""]=qr}}catch(r){Ir=!0,Ur=r}finally{try{!zr&&Pr.return&&Pr.return()}finally{if(Ir)throw Ur}}var Gr=!0,Br=!1,Wr=void 0;try{for(var Dr,Vr=Object.keys(e).concat("c","y","w","j")[Symbol.iterator]();!(Gr=(Dr=Vr.next()).done);Gr=!0){var Xr=Dr.value,Zr=t[Xr];Zr[Xr]=r(Zr)}}catch(r){Br=!0,Wr=r}finally{try{!Gr&&Vr.return&&Vr.return()}finally{if(Br)throw Wr}}return delete t.n.n,Object.freeze(JSON.parse(JSON.stringify(t)))}function y(r){return null===Pr&&(Pr=d()),Pr}function h(r){var t=JSON.parse(JSON.stringify(r));return t.n.n={"":"ん"},t.n[" "]={"":"ん"},t}function g(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&e(r,sr,dr)}function p(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&r.charCodeAt(0)===wr}function m(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&r.charCodeAt(0)===Ar}function b(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&(!!p(r)||e(r,yr,hr))}function w(){var r=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("").forEach(function(t){if(p(t)||m(t))r.push(t);else if(b(t)){var n=t.charCodeAt(0)+(gr-yr),e=String.fromCharCode(n);r.push(e)}else r.push(t)}),r.join("")}function A(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(r)?r:j(r,t).map(function(t){var n=Hr(t,3),e=n[0],o=n[2];return null===o?r.slice(e):g(r.charAt(e))?w(o):o}).join("")}function S(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y(r);return t=r.IMEMode?h(t):t,t=r.useObsoleteKana?Tr(t):t,f(t,r.customKanaMapping)}function j(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Lr(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=S(t);return u(r.toLowerCase(),n,!t.IMEMode)}function N(r,t){var n=Object.assign({},Lr(r),{IMEMode:r.IMEMode||!0});return function(r){var t=r.target,e=t.dataset,o=t.value,a=t.selectionEnd;if(e.isComposing)console.log("isComposing: early exit for value: "+o);else{var i=C(o,a,n),u=Hr(i,3),c=u[0],l=u[1],v=u[2],f=A(l,n);if(l!==f){t.value=c+f+v;var s=c.length+f.length;t.setSelectionRange(s,s)}}}}function E(r){var t=r.target,n=r.type,e=window&&!!window.chrome&&!!window.chrome.webstore;if("compositionend"===n){if(t.dataset.isComposing=!1,e){var o=new Event("input");t.dispatchEvent(o)}}else t.dataset.isComposing=!0}function x(r,t,n){_r=_r.concat({id:r,inputHandler:t,compositionHandler:n})}function O(r){var t=r.id;_r=_r.filter(function(r){return r.id!==t})}function k(r){return r&&_r.find(function(t){return t.id===r.getAttribute("data-wanakana-id")})}function C(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=void 0,o=void 0,i=void 0,u=Object.keys(S(n));if(u=[].concat(Ur(u),Ur(u.map(function(r){return r.toUpperCase()}))),0===t&&u.includes(r[0])){var c=K(r,u),l=Hr(c,3);e=l[0],o=l[1],i=l[2]}else if(t>0){var v=M(r,t),f=Hr(v,3);e=f[0],o=f[1],i=f[2]}else{var s=J(r,function(r){return!u.includes(r)}),d=Hr(s,2);e=d[0];var y=J(o=d[1],function(r){return!a(r)}),h=Hr(y,2);o=h[0],i=h[1]}return[e,R(o,n),i]}function K(r,t){return[""].concat(Ur(J(r,function(r){return t.includes(r)||!a(r,/[0-9]/)})))}function M(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=J([].concat(Ur(r.slice(0,t))).reverse(),function(r){return!a(r)}),e=Hr(n,2),o=e[0];return[e[1].reverse().join(""),o.split("").reverse().join(""),r.slice(t)]}function J(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(r){return!!r},n=[],e=r.length,o=0;e>o&&t(r[o],o);)n.push(r[o]),o+=1;return[n.join(""),r.slice(o)]}function R(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).IMEMode;switch(!0){case t===lr.HIRAGANA:return r.toLowerCase();case t===lr.KATAKANA:return r.toUpperCase();default:return r}}function z(r){for(var t=[],n=Object.keys(r),e=0;n.length>e;++e)t.push([n[e],r[n[e]]]);return t}function I(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Wr.includes(r.nodeName))throw Error("Element provided to Wanakana bind() was not a valid input or textarea element.\n Received: ("+JSON.stringify(r)+")");var e=N(t,r),o=Vr();r.setAttribute("data-wanakana-id",o),r.addEventListener("input",e),r.addEventListener("compositionstart",E),r.addEventListener("compositionchange",E),r.addEventListener("compositionend",E),x(o,e,E),!0===n&&Gr(r)}function H(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=k(r);if(null==n)throw Error("Element provided to Wanakana unbind() had no listener registered.\n Received: "+JSON.stringify(r));var e=n.inputHandler,o=n.compositionHandler;r.removeAttribute("data-wanakana-id"),r.removeAttribute("data-is-composing"),r.removeEventListener("input",e),r.removeEventListener("compositionstart",o),r.removeEventListener("compositionupdate",o),r.removeEventListener("compositionend",o),O(n),!0===t&&Br(r)}function U(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&Rr.some(function(t){var n=Hr(t,2);return e(r,n[0],n[1])})}function L(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],o="regexp"===t(e);return!n(r)&&[].concat(Ur(r)).every(function(r){var t=U(r);return o?t||e.test(r):t})}function P(){return e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",gr,pr)}function T(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&(b(r)||P(r))}function _(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&[].concat(Ur(r)).every(T)}function q(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&[].concat(Ur(r)).every(b)}function G(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&[].concat(Ur(r)).every(P)}function B(){return e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",mr,br)}function W(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&[].concat(Ur(r)).every(B)}function D(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{passKanji:!0},n=[].concat(Ur(r)),e=!1;return t.passKanji||(e=n.some(W)),(n.some(q)||n.some(G))&&n.some(L)&&!e}function V(){for(var r=[],t="",n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(""),e=0;n.length>e;e+=1){var o=n[e];if(m(o)||Xr(o,e)||$r(o))r.push(o);else if(t&&Zr(o,e)){var a=tr(t).slice(-1);r.push(Fr[a])}else if(!p(o)&&P(o)){var i=o.charCodeAt(0)+(yr-gr),u=String.fromCharCode(i);r.push(u),t=u}else r.push(o),t=""}return r.join("")}function X(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(r.toLowerCase(),t)}function Z(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&zr.some(function(t){var n=Hr(t,2);return e(r,n[0],n[1])})}function $(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Lr(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return t.passRomaji?V(r):L(r)||Z(r)?X(r,t):D(r,{passKanji:!0})?X(V(r),t):V(r)}function F(r){for(var t=[],n=Object.keys(r),e=0;n.length>e;++e)t.push([n[e],r[n[e]]]);return t}function Q(){function r(t){var n={},e=!0,o=!1,a=void 0;try{for(var i,u=F(t)[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var c=Hr(i.value,2),l=c[0],v=c[1];if(l)n[l]=r(v);else{var f=v.charAt(0);n[l]=f in ir?ir[f]+v:v}}}catch(r){o=!0,a=r}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}var t=c({"あ":"a","い":"i","う":"u","え":"e","お":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","さ":"sa","し":"shi","す":"su","せ":"se","そ":"so","た":"ta","ち":"chi","つ":"tsu","て":"te","と":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","や":"ya","ゆ":"yu","よ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","わ":"wa","ゐ":"wi","ゑ":"we","を":"wo","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ざ":"za","じ":"ji","ず":"zu","ぜ":"ze","ぞ":"zo","だ":"da","ぢ":"ji","づ":"zu","で":"de","ど":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","ゔぁ":"va","ゔぃ":"vi","ゔ":"vu","ゔぇ":"ve","ゔぉ":"vo","ん":"n"}),n=function(r){return l(t,r)},e=function(r,t){n(r)[""]=t},o={"。":".","、":",","：":":","・":"/","！":"!","？":"?","〜":"~","ー":"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","　":" "},a=!0,i=!1,u=void 0;try{for(var v,f=F(o)[Symbol.iterator]();!(a=(v=f.next()).done);a=!0){var s=Hr(v.value,2),d=s[0],y=s[1];n(d)[""]=y}}catch(r){i=!0,u=r}finally{try{!a&&f.return&&f.return()}finally{if(i)throw u}}var h={"ゃ":"ya","ゅ":"yu","ょ":"yo"},g={"ぃ":"yi","ぇ":"ye"},p={"ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o"},m=!0,b=!1,w=void 0;try{for(var A,S=F(h).concat(F(p))[Symbol.iterator]();!(m=(A=S.next()).done);m=!0){var j=Hr(A.value,2);e(j[0],j[1])}}catch(r){b=!0,w=r}finally{try{!m&&S.return&&S.return()}finally{if(b)throw w}}var N=["き","に","ひ","み","り","ぎ","び","ぴ","ゔ","く","ふ"],E=!0,x=!1,O=void 0;try{for(var k,C=N[Symbol.iterator]();!(E=(k=C.next()).done);E=!0){var K=k.value,M=n(K)[""][0],J=!0,R=!1,z=void 0;try{for(var I,H=F(h)[Symbol.iterator]();!(J=(I=H.next()).done);J=!0){var U=Hr(I.value,2);e(K+U[0],M+U[1])}}catch(r){R=!0,z=r}finally{try{!J&&H.return&&H.return()}finally{if(R)throw z}}var L=!0,P=!1,T=void 0;try{for(var _,q=F(g)[Symbol.iterator]();!(L=(_=q.next()).done);L=!0){var G=Hr(_.value,2);e(K+G[0],M+G[1])}}catch(r){P=!0,T=r}finally{try{!L&&q.return&&q.return()}finally{if(P)throw T}}}}catch(r){x=!0,O=r}finally{try{!E&&C.return&&C.return()}finally{if(x)throw O}}var B={"し":"sh","ち":"ch","じ":"j","ぢ":"j"},W=!0,D=!1,V=void 0;try{for(var X,Z=F(B)[Symbol.iterator]();!(W=(X=Z.next()).done);W=!0){var $=Hr(X.value,2),Q=$[0],Y=$[1],rr=!0,tr=!1,nr=void 0;try{for(var er,or=F(h)[Symbol.iterator]();!(rr=(er=or.next()).done);rr=!0){var ar=Hr(er.value,2);e(Q+ar[0],Y+ar[1][1])}}catch(r){tr=!0,nr=r}finally{try{!rr&&or.return&&or.return()}finally{if(tr)throw nr}}e(Q+"ぃ",Y+"yi"),e(Q+"ぇ",Y+"e")}}catch(r){D=!0,V=r}finally{try{!W&&Z.return&&Z.return()}finally{if(D)throw V}}var ir={b:"b",c:"t",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",m:"m",p:"p",q:"q",r:"r",s:"s",t:"t",v:"v",w:"w",x:"x",z:"z"};t["っ"]=r(t);var ur={"っ":"","ゃ":"ya","ゅ":"yu","ょ":"yo","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o"},cr=!0,lr=!1,vr=void 0;try{for(var fr,sr=F(ur)[Symbol.iterator]();!(cr=(fr=sr.next()).done);cr=!0){var dr=Hr(fr.value,2);e(dr[0],dr[1])}}catch(r){lr=!0,vr=r}finally{try{!cr&&sr.return&&sr.return()}finally{if(lr)throw vr}}var yr=["あ","い","う","え","お","や","ゆ","よ"],hr=!0,gr=!1,pr=void 0;try{for(var mr,br=yr[Symbol.iterator]();!(hr=(mr=br.next()).done);hr=!0){var wr=mr.value;e("ん"+wr,"n'"+n(wr)[""])}}catch(r){gr=!0,pr=r}finally{try{!hr&&br.return&&br.return()}finally{if(gr)throw pr}}return Object.freeze(JSON.parse(JSON.stringify(t)))}function Y(){return null===Qr&&(Qr=Q()),Qr}function rr(r){switch(r.romanization){case vr.HEPBURN:return Y(r);default:return{}}}function tr(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Lr(t);return nr(r,n).map(function(n){var e=Hr(n,3),o=e[0],a=e[1],i=e[2];return t.upcaseKatakana&&G(r.slice(o,a))?i.toUpperCase():i}).join("")}function nr(r,t){var n=rr(t);return n=f(n,t.customRomajiMapping),u($(r,{passRomaji:!0}),n,!t.IMEMode)}function er(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Lr(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return w(t.passRomaji?r:D(r)||L(r)||Z(r)?X(r,t):r)}function or(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&Cr.some(function(t){var n=Hr(t,2);return e(r,n[0],n[1])})}function ar(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n(r)&&(Z(r)||or(r))}function ir(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{all:!1};if(n(r)||!a(r)||_(r))return r;var e=[].concat(Ur(r));if(t.all)return e.filter(function(r){return!T(r)}).join("");for(var o=e.reverse(),i=0,u=o.length;u>i;i+=1){var c=o[i];if(!ar(c)){if(W(c))break;o[i]=""}}return o.reverse().join("")}function ur(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=et.EN,e=et.JA,a=et.EN_NUM,i=et.JA_NUM,u=et.EN_PUNC,c=et.JA_PUNC,l=et.KANJI,v=et.HIRAGANA,f=et.KATAKANA,s=et.SPACE,d=et.OTHER;if(t)switch(!0){case tt(r):case nt(r):return d;case Yr(r):return n;case Z(r):return d;case rt(r):return e;case or(r):return d;case o(r):return e;case U(r):return n;default:return d}else switch(!0){case rt(r):case Yr(r):return s;case tt(r):return i;case nt(r):return a;case Z(r):return u;case or(r):return c;case B(r):return l;case b(r):return v;case P(r):return f;case o(r):return e;case U(r):return n;default:return d}}function cr(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.compact,o=void 0!==e&&e,a=t.detailed,i=void 0!==a&&a;if(null==r||n(r))return[];var u=[].concat(Ur(r)),c=u.shift(),l=ur(c,o);return c=i?{type:l,value:c}:c,u.reduce(function(r,t){var n=ur(t,o),e=n===l;l=n;var a=t;return e&&(a=(i?r.pop().value:r.pop())+a),r.concat(i?{type:n,value:a}:a)},[c])}var lr={HIRAGANA:"toHiragana",KATAKANA:"toKatakana"},vr=Object.freeze({HEPBURN:"hepburn"}),fr={useObsoleteKana:!1,passRomaji:!1,upcaseKatakana:!1,ignoreCase:!1,IMEMode:!1,romanization:vr.HEPBURN,customKanaMapping:{},customRomajiMapping:{}},sr=65,dr=90,yr=12353,hr=12438,gr=12449,pr=12540,mr=19968,br=40879,wr=12540,Ar=12539,Sr=[65296,65305],jr=[65313,65338],Nr=[65345,65370],Er=[65377,65381],xr=[19968,40959],Or=[13312,19903],kr=[[12352,12447],[12448,12543],Er,[65382,65439]],Cr=[[12288,12351],Er,[12539,12540],[65281,65295],[65306,65311],[65339,65343],[65371,65376],[65504,65518]],Kr=[].concat(kr,Cr,[jr,Nr,Sr,xr,Or]),Mr=[[256,257],[274,275],[298,299],[332,333],[362,363]],Jr=[[8216,8217],[8220,8221]],Rr=[[0,127]].concat(Mr),zr=[[32,47],[58,63],[91,96],[123,126]].concat(Jr),Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hr=function(){function r(r,t){var n=[],e=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);e=!0);}catch(r){o=!0,a=r}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ur=function(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);r.length>t;t++)n[t]=r[t];return n}return Array.from(r)},Lr=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},fr,r)},Pr=null,Tr=v({wi:"ゐ",we:"ゑ"}),_r=[],qr={input:function(r){var t=r.target;return console.log("input: "+t.value)},textinput:function(r){var t=r.target;return console.log("textinput: "+t.value)},keydown:function(r){var t=r.which,n=String.fromCharCode(t),e="which: "+t+" "+(/[a-z]/i.test(n)?"char: "+n:"");console.log("$keydown: "+e)},compositionstart:function(){return console.log("compositionstart")},compositionend:function(){return console.log("compositionend")},compositionupdate:function(r){var t=r.data;return console.log("compositionupdate: data: "+t)}},Gr=function(r){z(qr).forEach(function(t){var n=Hr(t,2),e=n[0],o=n[1];return r.addEventListener(e,o)})},Br=function(r){z(qr).forEach(function(t){var n=Hr(t,2),e=n[0],o=n[1];return r.removeEventListener(e,o)})},Wr=["TEXTAREA","INPUT"],Dr=0,Vr=function(){return Dr+=1,""+Date.now()+Dr},Xr=function(r,t){return p(r)&&1>t},Zr=function(r,t){return p(r)&&t>0},$r=function(r){return["ヶ","ヵ"].includes(r)},Fr={a:"あ",i:"い",u:"う",e:"え",o:"う"},Qr=null,Yr=function(r){return" "===r},rt=function(r){return"　"===r},tt=function(r){return/[０-９]/.test(r)},nt=function(r){return/[0-9]/.test(r)},et={EN:"en",JA:"ja",EN_NUM:"englishNumeral",JA_NUM:"japaneseNumeral",EN_PUNC:"englishPunctuation",JA_PUNC:"japanesePunctuation",KANJI:"kanji",HIRAGANA:"hiragana",KATAKANA:"katakana",SPACE:"space",OTHER:"other"};r.bind=I,r.unbind=H,r.isRomaji=L,r.isJapanese=a,r.isKana=_,r.isHiragana=q,r.isKatakana=G,r.isMixed=D,r.isKanji=W,r.toRomaji=tr,r.toKana=A,r.toHiragana=$,r.toKatakana=er,r.stripOkurigana=ir,r.tokenize=cr,r.VERSION="3.0.1",r.TO_KANA_METHODS=lr,r.ROMANIZATIONS=vr,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=wanakana.min.js.map
